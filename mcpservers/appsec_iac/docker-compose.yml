version: '3.8'

services:
  appsec-iac-mcp:
    build:
      context: ..
      dockerfile: appsec_iac/Dockerfile
    image: appsec-iac-mcp:latest
    volumes:
      - ../../hd-cyberdefense/cyberdefense/tasks/application_security/tools:/app/application_security_tools:ro
      - ./logs:/app/logs
    environment:
      - GITHUB_TOKEN=${GITHUB_TOKEN}
      - PYTHONPATH=/app:/app/tools:/app/application_security_tools
      - APPSEC_TOOLS_PATH=/app/application_security_tools
    stdin_open: true
    tty: true

